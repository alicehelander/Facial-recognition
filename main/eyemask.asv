function eye_mask = eyemask(eye_map)
eye_map = eye_map./(max(max(eye_map)));
eye_candidates = 3;
thresh = 0.9;

for i = thresh:-0.1:0
    eye_mask = imbinarize(eye_map,i);
    eyeSE = strel('disk',10);
    eye_mask = imclose(eye_mask,eyeSE);
    eye_mask = imopen(eye_mask,eyeSE);
    bw = bwboundaries(eye_mask);
    [centers, radii, metric] = imfindcircles(eye_map,[6 60],"Sensitivity",0.8);
    if(length(centers) > eye_candidates || length(bw) > eye_candidates)
        break
    end
end
end